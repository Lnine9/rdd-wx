(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/orderDetail/orderDetail"],{"0416":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement;e._self._c},a=[];r.d(t,"a",function(){return o}),r.d(t,"b",function(){return a})},1241:function(e,t,r){},"62f8":function(e,t,r){"use strict";var o=r("1241"),a=r.n(o);a.a},"8af0":function(e,t,r){"use strict";r.r(t);var o=r("c21a"),a=r.n(o);for(var d in o)"default"!==d&&function(e){r.d(t,e,function(){return o[e]})}(d);t["default"]=a.a},"8d57":function(e,t,r){"use strict";r.r(t);var o=r("0416"),a=r("8af0");for(var d in a)"default"!==d&&function(e){r.d(t,e,function(){return a[e]})}(d);r("62f8");var n=r("2877"),i=Object(n["a"])(a["default"],o["a"],o["b"],!1,null,null,null);t["default"]=i.exports},c18a:function(e,t,r){"use strict";(function(e){r("7b90"),r("921b");o(r("66fd"));var t=o(r("8d57"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,r("543d")["createPage"])},c21a:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r("c4f5"),a=d(r("f4aa"));function d(e){return e&&e.__esModule?e:{default:e}}var n={data:function(){return{orderId:"",hasLogistics:!1,takeWay:1,order:{orderId:"",createAt:"",commodityTitle:"",commodityImgList:[],commodityNum:"",deliveryState:"",deliveryStateShow:"",actualPrice:"",shopName:"",deliveryCompany:"",deliveryNum:"",commodityType:2,orderState:"",orderStateShow:"",electronicCode:""},imageUrl:"",totalPrice:"",sureBtnText:"确认收货",qrImageUrl:""}},methods:{onLoad:function(e){console.log(e),this.orderId=e.orderid,this.getOrderInfo()},getOrderInfo:function(){var e=this;o.OrderDetailAPI.getOrderDetail({orderId:this.orderId}).then(function(t){switch(console.log(t),e.order=t.data.data,e.takeWay=Number(e.order.commodityType),e.getQRCodeImage(),Number(e.order.deliveryState)){case 0:e.order.deliveryStateShow="未寄送";break;case 1:e.order.deliveryStateShow="未寄送";break;case 2:e.order.deliveryStateShow="已收货";break;default:e.order.deliveryStateShow="--";break}switch(Number(e.order.orderState)){case 0:e.order.orderStateShow="待支付";break;case 1:e.order.orderStateShow="待处理";break;case 2:e.order.orderStateShow="已完成";break;default:e.order.orderStateShow="--";break}e.totalPrice=Number(e.order.actualPrice)*Number(e.order.commodityNum),e.order.commodityImgList.length>0&&(e.imageUrl=e.order.commodityImgList[0]),e.order.createAt=e.getFormatDate(e.order.createAt),"1"===e.order.commodityType?e.sureBtnText="确认收货":e.sureBtnText="确认完成"}).catch(function(e){console.log(e)})},lookLogistics:function(){},confirmDelivery:function(){var t=this;1===this.order.commodityType&&o.OrderDetailAPI.confirmDelivery({orderId:this.order.orderId}).then(function(r){console.log(r),r.data.data?(e.showToast({title:"确认收货成功"}),t.getOrderInfo()):e.showModal({title:"提示",content:"确认收货失败",showCancel:!1})}).catch(function(t){console.log(t),e.showModal({title:"提示",content:"确认收货失败",showCancel:!1})})},getFormatDate:function(e){var t=new Date(e),r=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),d=t.getHours(),n=t.getMinutes(),i=t.getSeconds();return r+"-"+(1===o.toString().length?"0"+o:o)+"-"+(1===a.toString().length?"0"+a:a)+" "+(1===d.toString().length?"0"+d:d)+":"+(1===n.toString().length?"0"+n:n)+":"+(1===i.toString().length?"0"+i:i)},getQRCodeImage:function(){var e="wx:shopId="+this.order.shopId+"&orderId="+this.order.shopId+"&time="+this.order.createAt;this.qrImageUrl=a.default.createQrCodeImg(e)}}};t.default=n}).call(this,r("543d")["default"])}},[["c18a","common/runtime","common/vendor"]]]);